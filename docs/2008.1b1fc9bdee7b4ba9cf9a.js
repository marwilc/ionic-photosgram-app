(self.webpackChunkphotosgram=self.webpackChunkphotosgram||[]).push([[2008],{2008:(n,t,e)=>{"use strict";e.r(t),e.d(t,{Tab1PageModule:()=>Y});var o=e(8583),i=e(665),s=e(3083),r=e(639);let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[o.ez]]}),n})(),a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[o.ez,s.Pc,A]]}),n})();var c=e(8739),p=e(5319),g=e(752);const l=["map"];let d=(()=>{class n{constructor(){}ngOnInit(){}ngAfterViewInit(){if(this.coords){const n=this.coords.split(","),t=Number(n[0]),e=Number(n[1]);mapboxgl.accessToken="pk.eyJ1IjoibWFyd2lsYyIsImEiOiJja29oc2RoYnAxMmZ2Mm9samdheGJwNzZjIn0.looQkWcMw8RVvuTlCJc4ug";const o=new mapboxgl.Map({style:"mapbox://styles/mapbox/light-v10",center:[e,t],zoom:15.5,container:this.map.nativeElement});(new mapboxgl.Marker).setLngLat([e,t]).addTo(o)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-map"]],viewQuery:function(n,t){if(1&n&&r.Gf(l,5),2&n){let n;r.iGM(n=r.CRH())&&(t.map=n.first)}},inputs:{coords:"coords"},decls:2,vars:0,consts:[["id","map"],["map",""]],template:function(n,t){1&n&&r._UZ(0,"div",0,1)},styles:["#map[_ngcontent-%COMP%]{width:100%;height:300px}"]}),n})();var w=e(2340);let u=(()=>{class n{transform(n,t){return`${w.N.url}/posts/images/${t}/${n}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=r.Yjl({name:"image",type:n,pure:!0}),n})();function m(n,t){if(1&n&&(r._UZ(0,"ion-slide",12),r.ALo(1,"image")),2&n){const n=t.$implicit,e=r.oxw(2);r.Jzz("background-image: url('",r.xi3(1,3,n,e.post.user._id),"')")}}function f(n,t){if(1&n&&(r.TgZ(0,"ion-slides",10),r.YNc(1,m,2,6,"ion-slide",11),r.qZA()),2&n){const n=r.oxw();r.xp6(1),r.Q6J("ngForOf",n.post.imgs)}}function h(n,t){if(1&n&&(r.TgZ(0,"ion-slides",13),r._UZ(1,"ion-slide",12),r.ALo(2,"image"),r.qZA()),2&n){const n=r.oxw();r.Q6J("options",n.slideOps),r.xp6(1),r.Jzz("background-image: url('",r.xi3(2,4,n.post.imgs[0],n.post.user._id),"')")}}function M(n,t){if(1&n&&r._UZ(0,"app-map",14),2&n){const n=r.oxw();r.Q6J("coords",n.post.coords)}}let C=(()=>{class n{constructor(){this.post=null,this.img1="/assets/perro-1.jpg",this.slideOps={allowSlideNext:!1,allowSlidePrev:!1}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-post"]],inputs:{post:"post"},decls:18,vars:7,consts:[[1,"post"],["lines","none"],["slot","start"],[3,"src"],["pager","true",4,"ngIf"],[3,"options",4,"ngIf"],[3,"coords",4,"ngIf"],["name","heart-outline","slot","start"],["name","bookmark","slot","end"],["text-wrap",""],["pager","true"],["class","image-slide",3,"style",4,"ngFor","ngForOf"],[1,"image-slide"],[3,"options"],[3,"coords"]],template:function(n,t){1&n&&(r.TgZ(0,"div",0),r.TgZ(1,"ion-item",1),r.TgZ(2,"ion-avatar",2),r._UZ(3,"img",3),r.qZA(),r.TgZ(4,"ion-label"),r.TgZ(5,"h3"),r._uU(6),r.qZA(),r.TgZ(7,"h5"),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.YNc(9,f,2,1,"ion-slides",4),r.YNc(10,h,3,7,"ion-slides",5),r.YNc(11,M,1,1,"app-map",6),r.TgZ(12,"ion-item"),r._UZ(13,"ion-icon",7),r._UZ(14,"ion-icon",8),r.qZA(),r.TgZ(15,"ion-item",1),r.TgZ(16,"ion-label",9),r._uU(17),r.qZA(),r.qZA(),r.qZA()),2&n&&(r.xp6(3),r.MGl("src","/assets/avatars/",t.post.user.avatar,"",r.LSH),r.xp6(3),r.Oqu(t.post.user.name),r.xp6(2),r.Oqu(t.post.user.email),r.xp6(1),r.Q6J("ngIf",t.post.imgs.length>1),r.xp6(1),r.Q6J("ngIf",1===t.post.imgs.length),r.xp6(1),r.Q6J("ngIf",t.post.coords),r.xp6(6),r.hij(" ",t.post.message," "))},directives:[s.Ie,s.BJ,s.Q$,o.O5,s.gu,s.Hr,o.sg,s.A$,d],pipes:[u],styles:['@font-face{font-family:swiper-icons;src:url("data:application/font-woff;charset=utf-8;base64, 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") format("woff");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--swiper-theme-color:#007aff}.swiper-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-container-vertical[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{flex-direction:column}.swiper-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:initial}.swiper-container-android[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%], .swiper-wrapper[_ngcontent-%COMP%]{transform:translateZ(0)}.swiper-container-multirow[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap}.swiper-container-multirow-column[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;flex-direction:column}.swiper-container-free-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{transition-timing-function:ease-out;margin:0 auto}.swiper-container-pointer-events[_ngcontent-%COMP%]{touch-action:pan-y}.swiper-container-pointer-events.swiper-container-vertical[_ngcontent-%COMP%]{touch-action:pan-x}.swiper-slide[_ngcontent-%COMP%]{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank[_ngcontent-%COMP%]{visibility:hidden}.swiper-container-autoheight[_ngcontent-%COMP%], .swiper-container-autoheight[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{height:auto}.swiper-container-autoheight[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]{align-items:flex-start;transition-property:transform,height}.swiper-container-3d[_ngcontent-%COMP%]{perspective:1200px}.swiper-container-3d[_ngcontent-%COMP%]   .swiper-cube-shadow[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-bottom[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-left[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-right[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-top[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]{transform-style:preserve-3d}.swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-bottom[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-left[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-right[_ngcontent-%COMP%], .swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-top[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-left[_ngcontent-%COMP%]{background-image:linear-gradient(270deg,#00000080,#0000)}.swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-right[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#00000080,#0000)}.swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-top[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#00000080,#0000)}.swiper-container-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-bottom[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#00000080,#0000)}.swiper-container-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-container-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.swiper-container-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%] > .swiper-slide[_ngcontent-%COMP%]{scroll-snap-align:start start}.swiper-container-horizontal.swiper-container-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{scroll-snap-type:x mandatory}.swiper-container-vertical.swiper-container-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{scroll-snap-type:y mandatory}.post[_ngcontent-%COMP%]{margin-top:10px;box-shadow:0 2px 10px -5px #00000080}.image-slide[_ngcontent-%COMP%]{width:100%;height:250px;background-position:50%;background-repeat:no-repeat;background-size:cover}']}),n})();function P(n,t){if(1&n&&(r.TgZ(0,"ion-col",2),r._UZ(1,"app-post",3),r.qZA()),2&n){const n=t.$implicit;r.xp6(1),r.Q6J("post",n)}}let O=(()=>{class n{constructor(){this.posts=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-posts"]],inputs:{posts:"posts"},decls:3,vars:1,consts:[["fixed",""],["size","12","size-lg","3","size-md","4","size-sm","6","size-xs","12",4,"ngFor","ngForOf"],["size","12","size-lg","3","size-md","4","size-sm","6","size-xs","12"],[3,"post"]],template:function(n,t){1&n&&(r.TgZ(0,"ion-grid",0),r.TgZ(1,"ion-row"),r.YNc(2,P,2,1,"ion-col",1),r.qZA(),r.qZA()),2&n&&(r.xp6(2),r.Q6J("ngForOf",t.posts))},directives:[s.jY,s.Nd,o.sg,s.wI,C],styles:[""]}),n})();function Z(n,t){if(1&n&&r._UZ(0,"app-posts",9),2&n){const n=r.oxw();r.Q6J("posts",n.posts)}}function _(n,t){1&n&&(r.TgZ(0,"div",10),r._UZ(1,"ion-spinner"),r.qZA())}const B=[{path:"",component:(()=>{class n{constructor(n,t){this.post=n,this.route=t,this.posts=[],this.enabled=!0,this.loading=!1,this.sub=new p.w}ngOnInit(){this.loadData(),this.post.newPost.subscribe(n=>{this.posts.unshift(n)})}doRefresh(n){this.loadData(n,!0)}loadData(n,t=!1){t&&(this.enabled=!0,this.posts=[]),n||(this.loading=!0),this.sub.add(this.post.getPosts(t).subscribe(t=>{this.posts.push(...t.posts),this.loading=!1,n&&(n.target.complete(),0===t.posts.length&&(this.enabled=!1))},n=>{this.loading=!1}))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(g.P),r.Y36(c.F0))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tab1"]],decls:13,vars:5,consts:[[1,"ion-no-border",3,"translucent"],["slot","start"],["slot","icon-only","name","bonfire","color","primary"],["color","primary"],["color","light",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"posts",4,"ngIf"],["class","loading",4,"ngIf"],["threshold","100px",3,"disabled","ionInfinite"],[3,"posts"],[1,"loading"]],template:function(n,t){1&n&&(r.TgZ(0,"ion-header",0),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",1),r._UZ(3,"ion-icon",2),r.qZA(),r.TgZ(4,"ion-title",3),r._uU(5," FotosGram "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"ion-content",4),r.TgZ(7,"ion-refresher",5),r.NdJ("ionRefresh",function(n){return t.doRefresh(n)}),r._UZ(8,"ion-refresher-content"),r.qZA(),r.YNc(9,Z,1,1,"app-posts",6),r.YNc(10,_,2,0,"div",7),r.TgZ(11,"ion-infinite-scroll",8),r.NdJ("ionInfinite",function(n){return t.loadData(n)}),r._UZ(12,"ion-infinite-scroll-content"),r.qZA(),r.qZA()),2&n&&(r.Q6J("translucent",!0),r.xp6(6),r.Q6J("fullscreen",!0),r.xp6(3),r.Q6J("ngIf",!t.loading),r.xp6(1),r.Q6J("ngIf",t.loading),r.xp6(1),r.Q6J("disabled",!t.enabled))},directives:[s.Gu,s.sr,s.Sm,s.gu,s.wd,s.W2,s.nJ,s.Wo,o.O5,s.ju,s.MB,O,s.PQ],styles:[".loading[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[c.Bz.forChild(B)],c.Bz]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[s.Pc,o.ez,i.u5,x,a]]}),n})()}}]);