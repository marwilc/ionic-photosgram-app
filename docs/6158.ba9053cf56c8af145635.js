(self.webpackChunkphotosgram=self.webpackChunkphotosgram||[]).push([[6158],{6158:(i,t,e)=>{"use strict";e.r(t),e.d(t,{LoginPageModule:()=>v});var o=e(8583),n=e(665),s=e(3083),r=e(8739),a=e(4762),l=e(5319),g=e(639),c=e(7660),d=e(9846);const m=["slideMain"];function p(i,t){1&i&&(g.TgZ(0,"ion-label"),g._uU(1," Login "),g.qZA())}function u(i,t){1&i&&g._UZ(0,"ion-spinner")}const Z=function(i){return{"pick-avatar-seleccionado":i}};function A(i,t){if(1&i){const i=g.EpF();g.TgZ(0,"ion-slide"),g.TgZ(1,"ion-img",14),g.NdJ("click",function(){const t=g.CHM(i).$implicit;return g.oxw().selectAvatar(t)}),g.qZA(),g.qZA()}if(2&i){const i=t.$implicit;g.xp6(1),g.MGl("src","assets/avatars/",i.img,""),g.Q6J("ngClass",g.VKq(2,Z,i.seleccionado))}}function h(i,t){1&i&&(g.TgZ(0,"ion-label"),g._uU(1," Registro "),g.qZA())}function f(i,t){1&i&&g._UZ(0,"ion-spinner")}const q=[{path:"",component:(()=>{class i{constructor(i,t,e,o){this.fb=i,this.user=t,this.navCtrl=e,this.ui=o,this.loginForm=this.createLoginForm(),this.registerForm=this.createRegisterForm(),this.avatars=[{img:"av-1.png",seleccionado:!0},{img:"av-2.png",seleccionado:!1},{img:"av-3.png",seleccionado:!1},{img:"av-4.png",seleccionado:!1},{img:"av-5.png",seleccionado:!1},{img:"av-6.png",seleccionado:!1},{img:"av-7.png",seleccionado:!1},{img:"av-8.png",seleccionado:!1}],this.avatarSlide={slidesPerView:3.5},this.loginAttempt=!1,this.registerAttempt=!1,this.sub=new l.w}ngOnInit(){setTimeout(()=>{this.slides.lockSwipes(!0)},100)}login(){if(this.loginForm.invalid)return;const{email:i,password:t}=this.loginForm.value;this.loginAttempt=!0,this.sub.add(this.user.login(i,t).subscribe(i=>(0,a.mG)(this,void 0,void 0,function*(){i.ok?this.navCtrl.navigateRoot("/main/tabs/tab1",{animated:!0}):yield this.ui.informAlert("User And Password incorrects"),this.loginAttempt=!1}),i=>(0,a.mG)(this,void 0,void 0,function*(){yield this.ui.informAlert("User And Password incorrects"),this.loginAttempt=!1})))}register(){if(this.registerForm.invalid)return;const{email:i,password:t,avatar:e,name:o}=this.registerForm.value;this.registerAttempt=!0,this.sub.add(this.user.register({email:i,password:t,avatar:e,name:o}).subscribe(i=>(0,a.mG)(this,void 0,void 0,function*(){i.ok?this.navCtrl.navigateRoot("/main/tabs/tab1",{animated:!0}):yield this.ui.informAlert("User And Password incorrects"),this.registerAttempt=!1}),i=>(0,a.mG)(this,void 0,void 0,function*(){yield this.ui.informAlert("User And Password incorrects"),this.registerAttempt=!1})))}goToLogin(){this.slides.lockSwipes(!1),this.slides.slideTo(0),this.slides.lockSwipes(!0)}goToRegister(){this.slides.lockSwipes(!1),this.slides.slideTo(1),this.slides.lockSwipes(!0)}selectAvatar(i){this.avatars.forEach(i=>i.seleccionado=!1),i.seleccionado=!0,this.registerForm.get("avatar").setValue(i.img)}createLoginForm(){return this.fb.group({email:["",n.kI.required],password:["",n.kI.required]})}createRegisterForm(){return this.fb.group({email:["",n.kI.required],password:["",n.kI.required],name:["",n.kI.required],avatar:["av-1.png",n.kI.required]})}}return i.\u0275fac=function(t){return new(t||i)(g.Y36(n.qu),g.Y36(c.K),g.Y36(s.SH),g.Y36(d.F))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(i,t){if(1&i&&g.Gf(m,5),2&i){let i;g.iGM(i=g.CRH())&&(t.slides=i.first)}},decls:62,vars:12,consts:[[1,"mainSlide"],["slideMain",""],[3,"formGroup","ngSubmit"],["fixed",""],["src","assets/avatars/av-1.png"],["name","email","type","email","formControlName","email","required",""],["name","password","type","password","formControlName","password","required",""],["size","12"],["type","submit","expand","full","color","tertiary","shape","round",3,"disabled"],[4,"ngIf"],["shape","round","expand","full","fill","outline","color","tertiary",3,"disabled","click"],[3,"options"],[4,"ngFor","ngForOf"],["name","nombre","type","text","formControlName","name","required",""],[1,"pick-avatar",3,"src","ngClass","click"]],template:function(i,t){1&i&&(g.TgZ(0,"ion-content"),g.TgZ(1,"ion-slides",0,1),g.TgZ(3,"ion-slide"),g.TgZ(4,"form",2),g.NdJ("ngSubmit",function(){return t.login()}),g.TgZ(5,"ion-grid",3),g.TgZ(6,"ion-row"),g.TgZ(7,"ion-col"),g._UZ(8,"img",4),g.qZA(),g.qZA(),g.TgZ(9,"ion-row"),g.TgZ(10,"ion-col"),g.TgZ(11,"ion-list"),g.TgZ(12,"ion-item"),g.TgZ(13,"ion-label"),g._uU(14,"Email"),g.qZA(),g._UZ(15,"ion-input",5),g.qZA(),g.TgZ(16,"ion-item"),g.TgZ(17,"ion-label"),g._uU(18,"Password"),g.qZA(),g._UZ(19,"ion-input",6),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"ion-row"),g.TgZ(21,"ion-col",7),g.TgZ(22,"ion-button",8),g.YNc(23,p,2,0,"ion-label",9),g.YNc(24,u,1,0,"ion-spinner",9),g.qZA(),g.qZA(),g.TgZ(25,"ion-col",7),g.TgZ(26,"ion-button",10),g.NdJ("click",function(){return t.goToRegister()}),g._uU(27," Registrarme "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"ion-slide"),g.TgZ(29,"ion-grid",3),g.TgZ(30,"ion-row"),g.TgZ(31,"ion-col"),g.TgZ(32,"h3"),g._uU(33,"Seleccione Avatar"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(34,"ion-row"),g.TgZ(35,"ion-col"),g.TgZ(36,"ion-slides",11),g.YNc(37,A,2,4,"ion-slide",12),g.qZA(),g.qZA(),g.qZA(),g.TgZ(38,"form",2),g.NdJ("ngSubmit",function(){return t.register()}),g.TgZ(39,"ion-row"),g.TgZ(40,"ion-col"),g.TgZ(41,"ion-list"),g.TgZ(42,"ion-item"),g.TgZ(43,"ion-label"),g._uU(44,"Email"),g.qZA(),g._UZ(45,"ion-input",5),g.qZA(),g.TgZ(46,"ion-item"),g.TgZ(47,"ion-label"),g._uU(48,"Nombre"),g.qZA(),g._UZ(49,"ion-input",13),g.qZA(),g.TgZ(50,"ion-item"),g.TgZ(51,"ion-label"),g._uU(52,"Password"),g.qZA(),g._UZ(53,"ion-input",6),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(54,"ion-row"),g.TgZ(55,"ion-col",7),g.TgZ(56,"ion-button",8),g.YNc(57,h,2,0,"ion-label",9),g.YNc(58,f,1,0,"ion-spinner",9),g.qZA(),g.qZA(),g.TgZ(59,"ion-col",7),g.TgZ(60,"ion-button",10),g.NdJ("click",function(){return t.goToLogin()}),g._uU(61," Ingresar "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(4),g.Q6J("formGroup",t.loginForm),g.xp6(18),g.Q6J("disabled",t.loginForm.invalid||t.loginAttempt),g.xp6(1),g.Q6J("ngIf",!t.loginAttempt),g.xp6(1),g.Q6J("ngIf",t.loginAttempt),g.xp6(2),g.Q6J("disabled",t.loginAttempt),g.xp6(10),g.Q6J("options",t.avatarSlide),g.xp6(1),g.Q6J("ngForOf",t.avatars),g.xp6(1),g.Q6J("formGroup",t.registerForm),g.xp6(18),g.Q6J("disabled",t.registerForm.invalid||t.registerAttempt),g.xp6(1),g.Q6J("ngIf",!t.registerAttempt),g.xp6(1),g.Q6J("ngIf",t.registerAttempt),g.xp6(2),g.Q6J("disabled",t.registerAttempt))},directives:[s.W2,s.Hr,s.A$,n._Y,n.JL,n.sg,s.jY,s.Nd,s.wI,s.q_,s.Ie,s.Q$,s.pK,s.j9,n.JJ,n.u,n.Q7,s.YG,o.O5,o.sg,s.PQ,s.Xz,o.mk],styles:[".mainSlide[_ngcontent-%COMP%], .mainSlide[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{width:100%;height:100%}img[_ngcontent-%COMP%]{width:120px}.pick-avatar[_ngcontent-%COMP%]{width:80px;opacity:.3}.pick-avatar-seleccionado[_ngcontent-%COMP%]{transition:opacity .5s linear;opacity:1!important}"]}),i})()}];let T=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[r.Bz.forChild(q)],r.Bz]}),i})(),v=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[o.ez,n.u5,s.Pc,T,n.UX,n.u5]]}),i})()}}]);